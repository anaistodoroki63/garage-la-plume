<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Garage La Plume</title>

<style>
body {
    margin: 0;
    font-family: Arial, Helvetica, sans-serif;
    background: #1c1c1c;
    color: #f5f5f5;
}

header, footer {
    background: #111;
    padding: 20px;
    border-bottom: 4px solid #c30000;
}

footer {
    border-top: 4px solid #c30000;
    text-align: center;
}

nav ul {
    list-style: none;
    padding: 0;
    display: flex;
    gap: 20px;
    flex-wrap: wrap;
}

nav a {
    color: white;
    text-decoration: none;
    font-weight: bold;
}

nav a:hover { color: #c30000; }

section {
    padding: 60px 20px;
    max-width: 1100px;
    margin: auto;
}

.hero {
    text-align: center;
    background: linear-gradient(rgba(0,0,0,.7),rgba(0,0,0,.7)),
    url("https://images.unsplash.com/photo-1581579185169-07c97f4c7b5d") center/cover;
    padding: 100px 20px;
}

.hero h2 { color: #c30000; font-size: 40px; }

.services {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
    gap: 20px;
}

.box {
    background: #2a2a2a;
    padding: 20px;
    border-left: 4px solid #c30000;
}

input, select, textarea {
    width: 100%;
    padding: 10px;
    margin-bottom: 12px;
    background: #111;
    border: 1px solid #555;
    color: white;
}

button {
    background: #c30000;
    border: none;
    padding: 12px;
    color: white;
    cursor: pointer;
    font-size: 15px;
}

button:hover { background: red; }

.hidden { display: none; }

.dashboard {
    background: #111;
    padding: 20px;
    margin-top: 20px;
    border: 2px dashed #c30000;
}
</style>
</head>

<body>

<header>
<h1>Garage La Plume</h1>
<nav>
<ul>
<li><a href="#accueil">Accueil</a></li>
<li><a href="#services">Services</a></li>
<li><a href="#contact">Contact</a></li>
<li><a href="#employe">Employ√©</a></li>
</ul>
</nav>
</header>

<section class="hero" id="accueil">
    <h2>Garage Automobile de Confiance</h2>
    <p>R√©paration ‚Ä¢ Entretien ‚Ä¢ Diagnostic ‚Ä¢ Professionnalisme</p>
</section>

<section id="services">
    <h2>Nos Services</h2>
    <div class="services">
        <div class="service-box">
            <h3>üîß R√©paration</h3>
            <p>2000‚Ç¨.</p>
        </div>
        <div class="service-box">
            <h3>üõ¢ depannage</h3>
            <p>3000‚Ç¨ ville ; 5000‚Ç¨ autoroute.</p>
        </div>
        <div class="service-box">
            <h3>üíª Diagnostic</h3>
            <p>√âlectronique et pannes.</p>
        </div>
        <div class="service-box">
            <h3>üöó Contr√¥le</h3>
            <p>Pr√©-contr√¥le technique.</p>
        </div>
    </div>
</section>

<section id="contact">
<h2>Contact</h2>
<form class="box">
<input type="text" placeholder="Nom" required>
<input type="email" placeholder="Email" required>
<textarea placeholder="Message"></textarea>
<button>Envoyer</button>
</form>
</section>

<!-- ESPACE EMPLOYE -->
<section id="employe">
<h2>Espace Employ√© üîê</h2>

<div class="box" id="loginBox">
<input id="user" placeholder="Identifiant">
<input id="pass" type="password" placeholder="Mot de passe">
<button onclick="login()">Connexion</button>
<p id="msg" style="color:red;"></p>
</div>

<div id="dashboard" class="dashboard hidden">
<h3>Tableau de Bord</h3>
<p id="roleText"></p>

<h4>üìÖ Calendrier des entretiens</h4>
<div id="calendar" class="calendar"></div>

<div class="box">
    <input type="date" id="eventDate">
    <input type="text" id="eventText" placeholder="Client / V√©hicule / Entretien">
    <button onclick="addEvent()">Ajouter</button>
</div>

<h4>üïí Pointage</h4>
<div class="pointage">
    <button onclick="clock('Entr√©e')">Entr√©e</button>
    <button onclick="clock('Sortie')">Sortie</button>
    <ul id="clockList"></ul>
</div>

<h4>üìÇ Documents</h4>
<div class="box">
    <input type="file" id="fileInput">
    <button onclick="uploadFile()">Uploader</button>
</div>
<ul id="fileList"></ul>

<div id="adminPanel" class="hidden">
<h4>‚öôÔ∏è Acc√®s Admin</h4>
<ul>
<li>Gestion planning</li>
<li>Vue globale</li>
</ul>
</div>

<button onclick="logout()">D√©connexion</button>
</div>
    
<h4>üìÖ Planning</h4>
<ul>
<li>Lundi : 08h - 16h</li>
<li>Mardi : 08h - 16h</li>
<li>Mercredi : Repos</li>
<li>Jeudi : 08h - 16h</li>
<li>Vendredi : 08h - 15h</li>
</ul>

<div id="adminPanel" class="hidden">
<h4>‚öôÔ∏è Acc√®s Admin</h4>
<ul>
<li>Gestion employ√©s</li>
<li>Statistiques atelier</li>
<li>Planning global</li>
</ul>
</div>

<button onclick="logout()">D√©connexion</button>
</div>
</section>

<footer>
<p>&copy; 2026 Garage La Plume</p>
</footer>

<script>
let role = "";

/* ---------- LOGIN ---------- */
function login() {
    const u = user.value;
    const p = pass.value;

    if (u === "employe" && p === "garage123") role = "Employ√©";
    else if (u === "admin" && p === "admin123") {
        role = "Administrateur";
        adminPanel.classList.remove("hidden");
    }
    else {
        msg.textContent = "Identifiants incorrects";
        return;
    }

    roleText.textContent = "Connect√© en tant que : " + role;
    loginBox.classList.add("hidden");
    dashboard.classList.remove("hidden");
    msg.textContent = "";

    generateCalendar();
    loadClock();
    loadFiles();
}

/* ---------- LOGOUT ---------- */
function logout() {
    dashboard.classList.add("hidden");
    loginBox.classList.remove("hidden");
    adminPanel.classList.add("hidden");
    user.value = "";
    pass.value = "";
}

/* ---------- CALENDRIER ---------- */
function generateCalendar() {
    const calendar = document.getElementById("calendar");
    calendar.innerHTML = "";

    const now = new Date();
    const year = now.getFullYear();
    const month = now.getMonth();
    const days = new Date(year, month + 1, 0).getDate();

    const events = JSON.parse(localStorage.getItem("events")) || {};

    for (let d = 1; d <= days; d++) {
        const key = `${year}-${month+1}-${d}`;
        const day = document.createElement("div");
        day.className = "day";
        day.innerHTML = `<strong>${d}</strong>`;

        if (events[key]) {
            events[key].forEach(e => {
                const ev = document.createElement("div");
                ev.className = "event";
                ev.textContent = e;
                day.appendChild(ev);
            });
        }
        calendar.appendChild(day);
    }
}

function addEvent() {
    const date = eventDate.value;
    const text = eventText.value;
    if (!date || !text) return;

    const events = JSON.parse(localStorage.getItem("events")) || {};
    if (!events[date]) events[date] = [];
    events[date].push(text);

    localStorage.setItem("events", JSON.stringify(events));
    generateCalendar();
    eventText.value = "";
}

/* ---------- POINTAGE ---------- */
function clock(type) {
    const logs = JSON.parse(localStorage.getItem("clock")) || [];
    logs.push(`${type} - ${new Date().toLocaleString()}`);
    localStorage.setItem("clock", JSON.stringify(logs));
    loadClock();
}

function loadClock() {
    const ul = document.getElementById("clockList");
    ul.innerHTML = "";
    const logs = JSON.parse(localStorage.getItem("clock")) || [];
    logs.forEach(l => {
        const li = document.createElement("li");
        li.textContent = l;
        ul.appendChild(li);
    });
}

/* ---------- DOCUMENTS ---------- */
function uploadFile() {
    const files = JSON.parse(localStorage.getItem("files")) || [];
    if (!fileInput.files[0]) return;

    files.push(fileInput.files[0].name);
    localStorage.setItem("files", JSON.stringify(files));
    loadFiles();
    fileInput.value = "";
}

function loadFiles() {
    const ul = document.getElementById("fileList");
    ul.innerHTML = "";
    const files = JSON.parse(localStorage.getItem("files")) || [];
    files.forEach(f => {
        const li = document.createElement("li");
        li.textContent = f;
        ul.appendChild(li);
    });
}
</script>

</body>
</html>
